^ExistsInWorld:
	AppearsOnRadar:
	CombatDebugOverlay:
	GivesExperience:
		PlayerExperienceModifier: 1
	ConditionManager:
	ScriptTriggers:
	RenderDebugState:
	Huntable:
	
# ////////////////////////////////////////////////////////////////////////////////////////////////
# ////////////////////////////////////////// BASE ACTOR //////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////

^SpriteActor:
	BodyOrientation:
	QuantizeFacingsFromSequence:
	RenderSprites:

^BuilableSpriteActor:
	Inherits@1: ^SpriteActor
	Buildable:
		BuildDuration: 2500

^ResearchActor:
	Interactable:
	Buildable:
		BuildDuration: 2500

# ////////////////////////////////////////////////////////////////////////////////////////////////
# ////////////////////////////////////////// CELL SHAPE //////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////

^InfantryShape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Circle
			Radius: 128
			VerticalTopOffset: 512

^VehicleShape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Circle
			Radius: 256
			VerticalTopOffset: 256

^1x1Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512

^3x1Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
			
^1x3Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536
			
^1x1Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512

^2x2Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024

^3x2Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1537, -1024
			BottomRight: 1537, 1024

^3x3Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1537, -1537
			BottomRight: 1537, 1537

^3x4Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -2048, -1537
			BottomRight: 2048, 1537
            
^5x3Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -2048, -2048
			BottomRight: 1537, 1537

^4x3Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1537, -2048
			BottomRight: 1537, 2048
			
^4x4Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -2048, -2048
			BottomRight: 2048, 2048

^5x4Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -2560, -2048
			BottomRight: 2560, 2048
			
# ////////////////////////////////////////////////////////////////////////////////////////////////////
# ///////////////////////////////////// Mechanics Default Rules //////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

# / Detect Cloaked Mechanics /
^Infantry.DetectCloaked:
	DetectCloaked:
		Range: 1c0

^Vehicles.DetectCloaked:
	DetectCloaked:
		Range: 5c0
	RenderDetectionCircle:

^Defence.DetectCloaked:
	DetectCloaked:
		Range: 6c0
		RequiresCondition: !empdisable && !disabled
	RenderDetectionCircle:
    
# / Stat View Player /
^UnitPlayerStat:
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	
# / Harvester Mechanics /
^Harvester.rules:
	Buildable:
		BuildDurationModifier: 15
	Mobile:
		Speed: 88
		TurnSpeed: 15
		Crushes: gibs, infantry, mine, husk
	Selectable:
		Priority: 7
	Harvester:
		PipCount: 10
		Capacity: 28
        FullyLoadedSpeed: 75
		Resources: Diast,Diastgems
		BaleLoadDelay: 10
		BaleUnloadDelay: 5
		SearchFromProcRadius: 28
		SearchFromHarvesterRadius: 18
	Valued:
		Cost: 1000
		
# / Capure Mechanics /  
^Unite.CaptureRules:
	CaptureManager:
	Captures:
		CaptureTypes: TechBuilding
		PlayerExperience: 20
		CaptureDelay: 375
		ConsumedByCapture: true
		EnterCursor: ability
		EnterBlockedCursor: move-blocked
        
# / Auto-Carryable Unite Mechanics /     
^UniteCarryable:
	Carryable:
		LockedCondition: carried
        
^GainsExperience:
	GainsExperience:
		LevelUpNotification: LevelUp
		Conditions:
			200: rank-veteran
			400: rank-veteran
			800: rank-veteran
			1600: rank-veteran
		LevelUpImage: crate-effects
	GrantCondition@RANK-ELITE:
		RequiresCondition: rank-veteran >= 4
		Condition: rank-elite
	DamageMultiplier@RANK-1:
		RequiresCondition: rank-veteran == 1
		Modifier: 95
	DamageMultiplier@RANK-2:
		RequiresCondition: rank-veteran == 2
		Modifier: 90
	DamageMultiplier@RANK-3:
		RequiresCondition: rank-veteran == 3
		Modifier: 85
	DamageMultiplier@RANK-ELITE:
		RequiresCondition: rank-elite
		Modifier: 75
	FirepowerMultiplier@RANK-1:
		RequiresCondition: rank-veteran == 1
		Modifier: 105
	FirepowerMultiplier@RANK-2:
		RequiresCondition: rank-veteran == 2
		Modifier: 110
	FirepowerMultiplier@RANK-3:
		RequiresCondition: rank-veteran == 3
		Modifier: 120
	FirepowerMultiplier@RANK-ELITE:
		RequiresCondition: rank-elite
		Modifier: 130
	SpeedMultiplier@RANK-1:
		RequiresCondition: rank-veteran == 1
		Modifier: 105
	SpeedMultiplier@RANK-2:
		RequiresCondition: rank-veteran == 2
		Modifier: 110
	SpeedMultiplier@RANK-3:
		RequiresCondition: rank-veteran == 3
		Modifier: 120
	SpeedMultiplier@RANK-ELITE:
		RequiresCondition: rank-elite
		Modifier: 140
	ReloadDelayMultiplier@RANK-1:
		RequiresCondition: rank-veteran == 1
		Modifier: 95
	ReloadDelayMultiplier@RANK-2:
		RequiresCondition: rank-veteran == 2
		Modifier: 90
	ReloadDelayMultiplier@RANK-3:
		RequiresCondition: rank-veteran == 3
		Modifier: 85
	ReloadDelayMultiplier@RANK-ELITE:
		RequiresCondition: rank-elite
		Modifier: 75
	SelfHealing@ELITE:
		Step: 0
		PercentageStep: 5
		Delay: 100
		HealIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: rank-elite
	WithDecoration@RANK-1:
		Image: rank
		Sequence: rank-veteran-1
		Palette: effect
		ReferencePoint: Bottom, Right
		ValidStances: Ally, Enemy, Neutral
		RequiresCondition: rank-veteran == 1
		ZOffset: 256
	WithDecoration@RANK-2:
		Image: rank
		Sequence: rank-veteran-2
		Palette: effect
		ReferencePoint: Bottom, Right
		ValidStances: Ally, Enemy, Neutral
		RequiresCondition: rank-veteran == 2
		ZOffset: 256
	WithDecoration@RANK-3:
		Image: rank
		Sequence: rank-veteran-3
		Palette: effect
		ReferencePoint: Bottom, Right
		ValidStances: Ally, Enemy, Neutral
		RequiresCondition: rank-veteran == 3
		ZOffset: 256
	WithDecoration@RANK-ELITE:
		Image: rank
		Sequence: rank-elite
		Palette: effect
		ReferencePoint: Bottom, Right
		ValidStances: Ally, Enemy, Neutral
		RequiresCondition: rank-elite
		ZOffset: 256
	
# ////////////////////////////////////////////////////////////////////////////////////////////////////
# ///////////////////////////////////// Global Upgrade Revision //////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^Globalrevision:
	SpeedMultiplier@REVISION:
		Modifier: 110

# ////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////////// AutoTarget Rules //////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^AutoTargetGround:
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, Defense
		InvalidTargets: NoAutoTarget, WaterStructure
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, Defense, Structure
		InvalidTargets: NoAutoTarget

^AutoTargetGroundAssaultMove:
	Inherits: ^AutoTargetGround
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything || assault-move
	AttackMove:
		AssaultMoveCondition: assault-move

^AutoTargetAir:
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: Air
		InvalidTargets: NoAutoTarget

^AutoTargetAll:
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, Air, Defense, Structure
		InvalidTargets: NoAutoTarget, WaterStructure
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, Air, Structure, Defense
		InvalidTargets: NoAutoTarget

^AutoTargetAllAssaultMove:
	Inherits: ^AutoTargetAll
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything || assault-move
	AttackMove:
		AssaultMoveCondition: assault-move
		
#////////////// Target Spoec Unite Stat /////////////
^NidhoggAutoTargetAllAssaultMove:
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move  && !mode2
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, Air, Defense, Structure
		InvalidTargets: NoAutoTarget, WaterStructure
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything || assault-move && !mode2
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, Air, Structure, Defense
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@IEM:
		RequiresCondition: !stance-attackanything && !assault-move  && mode2
		ValidTargets: Vehicle, Tank, Water, Underwater, Defense, Structure
		InvalidTargets: NoAutoTarget, WaterStructure
	AutoTargetPriority@IEM:
		RequiresCondition: stance-attackanything || assault-move && mode2
		ValidTargets: Vehicle, Tank, Water, Underwater, Structure, Defense
		InvalidTargets: NoAutoTarget
	AttackMove:
		AssaultMoveCondition: assault-move
		
# ////////////////////////////////////////////////////////////////////////////////////////////////////
#////////////////////////////////////////// Range Stat Base //////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^Building.Range.Base:
	RevealsShroud:
		Range: 8c0
		Type: GroundPosition
		
^Defense.Range.Base:
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
		
^Infantry.Range.Base:
	RevealsShroud:
		Range: 7c0
		Type: GroundPosition
		
^Scout.Range.Base:
	RevealsShroud:
		Range: 12c0
		Type: GroundPosition
		
^Vehicle.Range.Base:
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
		
^Aircraft.Range.Base:
	RevealsShroud:
		Range: 14c0
		Type: GroundPosition
		RevealGeneratedShroud: False
		
^4cells.Range.base:
	RevealsShroud:
		Range: 4c0
		Type: GroundPosition
		
^5cells.Range.base:
	RevealsShroud:
		Range: 5c0
		Type: GroundPosition
		
^6cells.Range.base:
	RevealsShroud:
		Range: 6c0
		Type: GroundPosition
		
^7cells.Range.base:
	RevealsShroud:
		Range: 7c0
		Type: GroundPosition
		
^8cells.Range.base:
	RevealsShroud:
		Range: 8c0
		Type: GroundPosition
		
^9cells.Range.base:
	RevealsShroud:
		Range: 9c0
		Type: GroundPosition
		
^10cells.Range.base:
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
		
^11cells.Range.base:
	RevealsShroud:
		Range: 11c0
		Type: GroundPosition
		
^12cells.Range.base:
	RevealsShroud:
		Range: 12c0
		Type: GroundPosition
		
^13cells.Range.base:
	RevealsShroud:
		Range: 13c0
		Type: GroundPosition
		
^14cells.Range.base:
	RevealsShroud:
		Range: 14c0
		Type: GroundPosition

# ////////////////////////////////////////////////////////////////////////////////////////////////////
#////////////////////////////////////////// Méchanics Rules //////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^DisableOnLowPower:
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled
		Palette: disabled
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower
		Condition: disabled

^DisablePowerDown:
	Inherits: ^DisableOnLowPower
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown
		Condition: disabled
	ToggleConditionOnOrder:
		DisabledSpeech: DisablePower
		EnabledSpeech: EnablePower
		Condition: powerdown
		OrderName: PowerDown
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: mouse
		RequiresCondition: powerdown
		ReferencePoint: Center
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0

^PowerReveal.Conclave.Base:
    # Reveal Power Conclave
    RevealsShroud@PowerReveal.Conclave:
        ValidStances: Enemy
        Range: 2c0
    ProvidesPrerequisite@PowerReveal.Conclave:
        RequiresCondition: Conclave.PowerReveal
    ExternalCondition@PowerReveal.Conclave: 
        Condition: Conclave.PowerReveal
		
# ////////////////////////////////////////////////////////////////////////////////////////////////////
#//////////////////////////////////////    Mine System Rules   ///////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^Mine:
	Inherits: ^SpriteActor
	Interactable:
		Bounds: 24,24
	WithSpriteBody:
	HiddenUnderFog:
	Mine:
		CrushClasses: mine
		DetonateClasses: mine
		AvoidFriendly: false
		BlockFriendly: false
	Health:
		HP: 1000
		NotifyAppliedDamage: false
	Armor:
		Type: Light
	Cloak:
		CloakSound:
		UncloakSound:
		Palette:
		CloakTypes: Cloak
		InitialDelay: 0
	Tooltip:
		Name: Mine
	Targetable:
		TargetTypes: Ground, Defense
	Immobile:
		OccupiesSpace: true
	HitShape:
	MapEditorData:
		Categories: System
        
gibs.impact:
	Inherits: ^SpriteActor
	Interactable:
		Bounds: 24,24
	WithSpriteBody:
	HiddenUnderFog:
	RenderSprites:
		Image: null
	Tooltip:
	Armor:
		Type: Light
	Mine:
		CrushClasses: mine
		DetonateClasses: mine
		AvoidFriendly: false
		BlockFriendly: true
	KillsSelf:
		Delay: 1
	ThrowsShrapnel@Gibs:
		Weapons: gibs_plok, gibs_plok2
		Pieces: 8, 12
		Range: 2c0, 3c0
	Health:
		HP: 15
		NotifyAppliedDamage: false
	Immobile:
		OccupiesSpace: true
	HitShape:

^Capacity.system.active:
	Inherits: ^SpriteActor
	WithSpriteBody:
	HiddenUnderFog:
	RenderSprites:
		Image: null
	Tooltip:
	Armor:
		Type: Light
	KillsSelf:
		Delay: 1
	Mine:
		CrushClasses: mine
		DetonateClasses: mine
		AvoidFriendly: false
		BlockFriendly: false
	Health:
		HP: 1
		NotifyAppliedDamage: false
	Targetable:
		TargetTypes: Ground
	Explodes:
		Weapon: UnitExplodeSmall
	Immobile:
		OccupiesSpace: true
	HitShape:
	
^baliseMine.system:
	Inherits: ^SpriteActor
	WithSpriteBody:
	HiddenUnderFog:
	RenderSprites:
		Image: null
	Tooltip:
	Armor:
		Type: Light
	Mine:
		CrushClasses: mine
		DetonateClasses: mine
		AvoidFriendly: false
		BlockFriendly: true
	Health:
		HP: 500
		NotifyAppliedDamage: false
	Targetable:
		TargetTypes: Ground
	Immobile:
		OccupiesSpace: true
	HitShape:
	
# ////////////////////////////////////////////////////////////////////////////////////////////////////
#//////////////////////////////////////  Visual Effect  Rules  ///////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

# ////////////////////////////////////////////////////////////////////////////////////////////////////
#//////////////////////////////////////  Sound Effect  Rules  ///////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^Whell.vehicle.move:
    AmbientSound@MOVE:
        SoundFiles: whellveh_move01.aud, whellveh_move02.aud, whellveh_move03.aud
        Interval: -1
        RequiresCondition: Sound.Move
    GrantConditionOnMovement@SoundMove:
        Condition: Sound.Move
        ValidMovementTypes: Horizontal, Turn

^Truck.vehicle.move:
    AmbientSound@MOVE:
        SoundFiles: whelltruckveh_move01.aud, whelltruckveh_move02.aud, whelltruckveh_move03.aud
        Interval: -1
        RequiresCondition: Sound.Move
    GrantConditionOnMovement@SoundMove:
        Condition: Sound.Move
        ValidMovementTypes: Horizontal, Turn
        
^Hover.vehicle.move:
    AmbientSound@MOVE:
        SoundFiles: hoverveh_move01.aud, hoverveh_move02.aud, hoverveh_move03.aud
        Interval: -1
        RequiresCondition: Sound.Move
    GrantConditionOnMovement@SoundMove:
        Condition: Sound.Move
        ValidMovementTypes: Horizontal, Turn
        
^HoverTech.vehicle.move:
    AmbientSound@MOVE:
        SoundFiles: hovertech_move01.aud, hovertech_move02.aud, hovertech_move03.aud
        Interval: -1
        RequiresCondition: Sound.Move
    GrantConditionOnMovement@SoundMove:
        Condition: Sound.Move
        ValidMovementTypes: Horizontal, Turn

^tracked.vehicle.move:
    AmbientSound@MOVE:
        SoundFiles: trackedveh_move01.aud, trackedveh_move02.aud, trackedveh_move03.aud
        Interval: -1
        RequiresCondition: Sound.Move
    GrantConditionOnMovement@SoundMove:
        Condition: Sound.Move
        ValidMovementTypes: Horizontal, Turn
        
^HeavyTracked.vehicle.move:
    AmbientSound@MOVE:
        SoundFiles: trackedheavy_move01.aud, trackedheavy_move02.aud, trackedheavy_move03.aud
        Interval: -1
        RequiresCondition: Sound.Move
    GrantConditionOnMovement@SoundMove:
        Condition: Sound.Move
        ValidMovementTypes: Horizontal, Turn
        
^Rotor.aircraft.move:
    AmbientSound@MOVE:
        SoundFiles: reactaircraft_move01.aud, reactaircraft_move02.aud, reactaircraft_move03.aud
        Interval: -1
        RequiresCondition: Sound.Move
    GrantConditionOnMovement@SoundMove:
        Condition: Sound.Move
        ValidMovementTypes: Horizontal, Turn

# ////////////////////////////////////////////////////////////////////////////////////////////////////
#////////////////////////////////////// Infantry Default Rules ///////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^Infantry:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^BuilableSpriteActor
	Inherits@3: ^InfantryShape
	Inherits@4: ^ConditioneffetGeneralsUnit
	Inherits@5: ^ConditionGeneralInfantryBase
	Inherits@DetectCloaked: ^Infantry.DetectCloaked
	Inherits@Range: ^Infantry.Range.Base
	Health:
		Radius: 96
	Armor:
		Type: Infantry
	Mobile:
		Voice: Move
		SharesCell: true
		Locomotor: foot
		Speed: 95
	SelectionDecorations:
        RenderSelectionBox: false
	WithTextControlGroupDecoration:
	Selectable:
		Bounds: 12,20,0,-4
	Targetable:
		TargetTypes: Ground, Infantry
	QuantizeFacingsFromSequence:
		Sequence: stand
	WithInfantryBody:
	WithDeathAnimation:
		DeathTypes:
			DefaultDeath: 1
			Gibs: 2
			Burned: 3
			NukeDeath: 4
			IonDeath: 5
			PlasmaDeath: 6
		CrushedSequence: die-crushed
        CrushedSequencePalette: player
	AutoTarget:
	AttackMove:
	DrawLineToTarget:
	ScriptTriggers:
	HiddenUnderFog:
	ActorLostNotification:
	Crushable:
		Crushes: infantry
		CrushedByFriendlies: false
	Guardable:
	MustBeDestroyed:
	TerrainModifiesDamage:
		TerrainModifier:
			Rough: 80
	DeathSounds:
		DeathTypes: DefaultDeath, Gibs, Burned, NukeDeath, IonDeath, PlasmaDeath
	SpawnActorOnDeath@Gibs:
		Actor: gibs.impact
		DeathType: Gibs
        Probability: 65
    Huntable:
	OwnerLostAction:
		Action: Kill
		DeathTypes: DefaultDeath
	Voiced:
		VoiceSet: InfantryVoice
	Guard:
		Voice: Move
	Passenger:
		CargoType: Infantry
		PipType: Green
		Voice: Move
	Explodes@Gibs:
		DeathTypes: Gibs
		Weapon: gibs_plok
		EmptyWeapon: gibs_plok
	DeathSounds@GIBS01:
		Voice: GoreExpl
		DeathTypes: Gibs
	DeathSounds@BURN:
		Voice: Infburn
		DeathTypes: Burned
	DeathSounds@NUKE:
		Voice: InfNukeDeath
		DeathTypes: NukeDeath
	DeathSounds@IONS:
		Voice: InfIonDeath
		DeathTypes: IonDeath
	DeathSounds@PLASMA:
		Voice: InfPlasmaDeath
		DeathTypes: PlasmaDeath
	HitShape:
	RenderSprites:
		Scale: 1.0
	MapEditorData:
		Categories: Infantry
    RevealOnDeath:
	WithShadow:
		Offset: 320,-160, -80
		ZOffset: -80
	WithIdleOverlay@Shadow:
		Offset: 0,0,-1
		Sequence: shadow.infantry
		Palette: effectalpha30

^InfantryHeavy:
	Inherits@1: ^Infantry
	Selectable:
		Bounds: 24,44
	Passenger:
		CargoType: Infantry
		PipType: Green
		Voice: Move
		Weight: 2
	Crushable:
		Crushes: heavyinfantry
		CrushedByFriendlies: false

^JumpjetInfantry:
	Inherits@1: ^Infantry
	-AttackMove:
	-Mobile:
	ExternalCondition@Tshoot:
		Condition: Tshoot
	WithFacingSpriteBody@idle:
		RequiresCondition: !Tshoot
		Sequence: run
	WithFacingSpriteBody@shoot:
		Sequence: shoot
		RequiresCondition: Tshoot
	Aircraft:
		CanHover: True
		CruisingCondition: cruising
		AirborneCondition: airborne
		VTOL: true
		CruiseAltitude: 2000
		InitialFacing: 192
		TurnSpeed: 255
		Speed: 150
		RepulsionSpeed: 20
		MaximumPitch: 56
		LandableTerrainTypes: Clear,Rough,Road,Beach
		CanSlide: True
	AttackAircraft:
		FacingTolerance: 20
		AttackType: Hover
	Targetable:
		TargetTypes: Ground, Repair, Vehicle
		RequiresCondition: !airborne
	Targetable@AIRBORNE:
		TargetTypes: Air
		RequiresCondition: airborne
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129

# ////////////////////////////////////////////////////////////////////////////////////////////////////
# /////////////////////////////////////// Vehicle Default Rules //////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^VehicleBase:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^BuilableSpriteActor
	Inherits@3: ^VehicleShape
	Inherits@4: ^ConditioneffetGeneralsUnit
	Inherits@5: ^ConditionGeneralVehicleBase
	Inherits@Range: ^Vehicle.Range.Base
	Inherits@Revision: ^Globalrevision
	UpdatesPlayerStatistics:
	Selectable:
	SelectionDecorations:
	WithTextControlGroupDecoration:
    RevealOnDeath:
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
		MinimumScanTimeInterval: 10
		MaximumScanTimeInterval: 10
	Targetable:
		TargetTypes: Ground, Vehicle, Repair, C4
	Passenger:
		CargoType: Vehicle
		PipType: Green
	Mobile:
		Locomotor: wheeled
		Crushes: Gibs
		TurnSpeed: 6
		PauseOnCondition: !(!empdisable || !notmobile)
	Crushable:
		CrushClasses: Vehicle
		CrushedByFriendlies: false
		WarnProbability: 100
	DrawLineToTarget:
	AttackMove:
	Guardable:
	Guard:
		Voice:
	Voiced:
		VoiceSet: VehicleVoice
	OwnerLostAction:
		Action: Kill
	HiddenUnderFog:
	ActorLostNotification:
	MapEditorData:
		Categories: Vehicle
	RenderSprites:
		Scale: 0.8
	WithShadow:
		Offset: 320,-150, -100
		ZOffset: -300
	ThrowsShrapnel:
		Weapons: SmallDebris, SmallDebris2, SmallDebris3
		Pieces: 2, 3
		Range: 0c256, 2c0
	SmokeTrailWhenDamaged:
		Offset: -853,0,171
		Interval: 2
    GrantConditionOnDamageState@Damage:
        Condition: heavy.damage
        ValidDamageStates: Heavy
    LeavesTrails@03:
        Image: damage_smoke.min
        Sequences: smoke_damage01, smoke_damage02, smoke_damage03, smoke_damage04
        Type: CenterPosition
        TrailWhileStationary: true
        Palette: flameeffect50
        MovingInterval: 4
        Offsets: -175,0,180
        RequiresCondition: heavy.damage
	Explodes:
		Weapon: uniteanimexplode
		EmptyWeapon: uniteanimexplode
	HitShape:

^Subterean.Vehicle.Option:
	Mobile:
		Locomotor: subterranean
	GrantConditionOnSubterraneanLayer:
		Condition: submerged
		SubterraneanTransitionImage: dig
		SubterraneanTransitionSequence: idle
		SubterraneanTransitionSound: subdril1.aud
	Cloak@cloakgenerator:
		PauseOnCondition: !(submerged)
		InitialDelay: 25
		CloakDelay: 25
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Damage
	RejectsOrders@subterranean:
		RequiresCondition: submerged
		Except: Stop
	Targetable:
		RequiresCondition: !submerged
	RevealsShroud:
		RequiresCondition: !submerged
		
# ////////////////////////////////////////////////////////////////////////////////////////////////////
# /////////////////////////////////////// Voxel Vehicle Rules ////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^VoxelVehicleLight:
	Inherits: ^VehicleBase
	BodyOrientation:
		QuantizedFacings: 0
	Selectable:
		Bounds: 28,28
	Mobile:
        Crushes: Gibs
		Locomotor: wheeled
		TurnSpeed: 25
		Speed: 120
	Armor:
		Type: LightVehicle
	RenderVoxels:
		Scale: 0.88
		LightPitch: 145
		LightYaw: 812
		LightAmbientColor: 0.40, 0.40, 0.40
		LightDiffuseColor: 0.38, 0.38, 0.38
	WithVoxelBody:
		ShowShadow: false
	WithIdleOverlay@Shadow:
		Offset: 0,0,-1
		Sequence: shadow.small
		Palette: effectalpha30

^VoxelVehicleMedium:
	Inherits: ^VehicleBase
	Mobile:
		Crushes: gibs, infantry, husk
		Locomotor: tracked
	BodyOrientation:
		QuantizedFacings: 0
	Selectable:
		Bounds: 35,35
	Mobile:
		Crushes: infantry, husk, Gibs
		Locomotor: tracked
		TurnSpeed: 10
		Speed: 100
	Armor:
		Type: ArmorTank
	RenderVoxels:
		Scale: 0.80
		LightPitch: 145
		LightYaw: 812
		LightAmbientColor: 0.40, 0.40, 0.40
		LightDiffuseColor: 0.38, 0.38, 0.38
	WithVoxelBody:
		ShowShadow: false
	WithIdleOverlay@Shadow:
		Offset: 0,0,-1
		Sequence: shadow.medium
		Palette: effectalpha30

^VoxelVehicleHeavy:
	Inherits: ^VehicleBase
	Mobile:
		Crushes: gibs, infantry, heavyinfantry, husk
		Locomotor: tracked
	BodyOrientation:
		QuantizedFacings: 0
	Selectable:
		Bounds: 42,42
	Mobile:
		Crushes: infantry, husk, Vehicle, Gibs
		Locomotor: tracked
		TurnSpeed: 8
		Speed: 90
	Armor:
		Type: ArmorTank
	RenderVoxels:
		Scale: 0.65
		LightPitch: 145
		LightYaw: 812
		LightAmbientColor: 0.45, 0.45, 0.45
		LightDiffuseColor: 0.36, 0.36, 0.36
	WithVoxelBody:
		ShowShadow: false
	WithIdleOverlay@Shadow:
		Offset: 0,0,-1
		Sequence: shadow.large
		Palette: effectalpha30
		
# ////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////// Voxel Vehicle Walkers Rules ///////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^VoxelVehicleWalker:
	Inherits: ^VoxelVehicleLight
	-WithVoxelBody:
	Mobile:
		Crushes: infantry, husk, Gibs
		Locomotor: walker
	Armor:
		Type: LightVehicle
	WithVoxelWalkerBody:
		ShowShadow: false

^VoxelVehicleMediumWalker:
	Inherits: ^VoxelVehicleMedium
	-WithVoxelBody:
	Mobile:
		Crushes: infantry, husk, Gibs
		Locomotor: walker
	Armor:
		Type: LightVehicle
	WithVoxelWalkerBody:
		ShowShadow: false

^VoxelVehicleHeavyWalker:
	Inherits: ^VoxelVehicleHeavy
	Mobile:
		Crushes: infantry, husk, Vehicle, Gibs
		Locomotor: walker
	-WithVoxelBody:
	WithVoxelWalkerBody:
		ShowShadow: false
		
# ////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////// Voxel Vehicle Hovers Rules ////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^VoxelVehicleHover:
	Inherits: ^VoxelVehicleLight
	Hovers:
		BobDistance: -65
	Armor:
		Type: LightVehicle
	Mobile:
		Locomotor: hover
		TurnSpeed: 10
	WithShadow:
		Offset: 320,180, -100
		ZOffset: -300

^VoxelVehicleMediumHover:
	Inherits: ^VoxelVehicleMedium
	Hovers:
		BobDistance: -65
	Armor:
		Type: LightVehicle
	Mobile:
		Locomotor: hover
		TurnSpeed: 10
	WithShadow:
		Offset: 320,180, -100
		ZOffset: -300

^VoxelVehicleHeavyHover:
	Inherits: ^VoxelVehicleLight
	Hovers:
		BobDistance: -65
	Armor:
		Type: ArmorTank
	Mobile:
		Locomotor: hover
		TurnSpeed: 10
	WithShadow:
		Offset: 320,180, -100
		ZOffset: -300
		
# ////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////// Shape Vehicle Default Rules ///////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^ShapeVehicleLight:
	Inherits: ^VehicleBase
	SelectionDecorations:
	Mobile:
		Crushes: Gibs
		Locomotor: wheeled
		TurnSpeed: 20
		Speed: 128
	Selectable:
		Bounds: 28,28
	Crushable:
		CrushClasses: Vehicle
	Armor:
		Type: LightVehicle
	RenderSprites:
		Scale: 0.7
	WithFacingSpriteBody:
	BodyOrientation:
		QuantizedFacings: 0
		CameraPitch: 113
	WithColoredOverlay@uniteShape:
		Palette: UnitShape
		

^ShapeVehicleMedium:
	Inherits: ^VehicleBase
	Mobile:
		Crushes: infantry, husk, Gibs
		Locomotor: tracked
		TurnSpeed: 8
		Speed: 85
	Selectable:
		Bounds: 35,35
	Crushable:
		CrushClasses: ArmorTank
	Armor:
		Type: LightVehicle
	WithFacingSpriteBody:
	BodyOrientation:
		QuantizedFacings: 0
		CameraPitch: 113
	RenderSprites:
		Scale: 0.8
	WithColoredOverlay@uniteShape:
		Palette: UnitShape

^ShapeVehicleHeavy:
	Inherits: ^VehicleBase
	Mobile:
		Locomotor: heavy.tracked
		TurnSpeed: 6
		Speed: 71
	Selectable:
		Bounds: 42,42
	Crushable:
		CrushClasses: HeavyVehicle
	Armor:
		Type: ArmorTank
	WithFacingSpriteBody:
	BodyOrientation:
		QuantizedFacings: 0
		CameraPitch: 113
	RenderSprites:
		Scale: 0.9
	WithColoredOverlay@uniteShape:
		Palette: UnitShape

# ////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////// Shape Vehicle Walkers Rules ///////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^ShapeWalkerLight:
	Inherits: ^ShapeVehicleLight
	Mobile:
		Crushes: infantry, husk, Gibs
		Locomotor: walker
	BodyOrientation:
		QuantizedFacings: 8
		UseClassicPerspectiveFudge: False
	WithFacingSpriteBody:
		Sequence: idle
	QuantizeFacingsFromSequence:
		Sequence: idle
	WithMoveAnimation:
		MoveSequence: walk
	-SpeedMultiplier@DAMHEAVYSPEED:
	-SpeedMultiplier@DAMCRITSPEED:
	-WithShadow:
	WithIdleOverlay@Shadow:
		Offset: 0,0,-1
		Sequence: shadow.large
		Palette: effectalpha30

^ShapeWalkerMedium:
	Inherits: ^ShapeVehicleMedium
	Mobile:
		Crushes: infantry, husk, Gibs
		Locomotor: walker
	BodyOrientation:
		QuantizedFacings: 8
		UseClassicPerspectiveFudge: False
	WithFacingSpriteBody:
		Sequence: idle
	QuantizeFacingsFromSequence:
		Sequence: idle
	WithMoveAnimation:
		MoveSequence: walk
	-SpeedMultiplier@DAMHEAVYSPEED:
	-SpeedMultiplier@DAMCRITSPEED:
	-WithShadow:
	WithIdleOverlay@Shadow:
		Offset: 0,0,-1
		Sequence: shadow.large
		Palette: effectalpha30

^ShapeWalkerHeavy:
	Inherits: ^ShapeVehicleHeavy
	Mobile:
		Crushes: infantry, husk, Vehicle, Gibs
		Locomotor: walker
	BodyOrientation:
		QuantizedFacings: 8
		UseClassicPerspectiveFudge: False
	WithFacingSpriteBody:
		Sequence: idle
	QuantizeFacingsFromSequence:
		Sequence: idle
	WithMoveAnimation:
		MoveSequence: walk
	-SpeedMultiplier@DAMHEAVYSPEED:
	-SpeedMultiplier@DAMCRITSPEED:
	-WithShadow:
	WithIdleOverlay@Shadow:
		Offset: 0,0,-1
		Sequence: shadow.large
		Palette: effectalpha30

# ////////////////////////////////////////////////////////////////////////////////////////////////////
# ////////////////////////////////////  Shape Vehicle Hovers Rules ///////////////////////////////////
# //////////////////////////////////////////////////////////////////////////////////////////////////// 
^ShapeHoverLight:
	Inherits: ^ShapeVehicleLight
	Hovers:
		BobDistance: -125
        InitialHeight: 120
	WithShadow:
		Offset: 320,180, -100
		ZOffset: -300
	Mobile:
		Locomotor: hover
		TurnSpeed: 10

^ShapeHoverMedium:
	Inherits: ^ShapeVehicleMedium
	Hovers:
		BobDistance: -125
        InitialHeight: 120
	WithShadow:
		Offset: 320,180, -100
		ZOffset: -300
	Mobile:
		Locomotor: hover
		TurnSpeed: 10

^ShapeHoverHeavy:
	Inherits: ^ShapeVehicleHeavy
	Hovers:
		BobDistance: -105
        InitialHeight: 100
	WithShadow:
		Offset: 320,180, -100
		ZOffset: -300
	Mobile:
		Locomotor: hover
		TurnSpeed: 10

# ////////////////////////////////////////////////////////////////////////////////////////////////////
# ////////////////////////////////////////// Building Rules //////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^BasicBuilding:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^BuilableSpriteActor
	Inherits@stat: ^ConditionGeneralBuilding
	Inherits@Range: ^Building.Range.Base
	Inherits@Revision: ^Globalrevision
	SelectionDecorations:
	WithSpriteControlGroupDecoration:
	ActorPreviewPlaceBuildingPreview:
		Palette: placefootprint
		LineBuildSegmentPalette: placelinesegment
		OverridePalette: placebuilding
		FootprintUnderPreview: Valid, LineBuild, Invalid
		FootprintOverPreview: None
    GrantCondition@BuildingOverlay:
        Condition: buildOverlay-active
	Selectable:
		Priority: 3
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure
	Building:
		Dimensions: 1,1
		Footprint: x
		TerrainTypes: Clear,Road
		RequiresBaseProvider: True
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 30
	SoundOnDamageTransition:
		DamagedSounds: damagedbuildingclassic.wav
		DestroyedSounds: deadbuildingclassic.wav
	OwnerLostAction:
		Action: Kill
	WithSpriteBody:
	CaptureNotification:
	ShakeOnDeath:
	WithDamageOverlay:
	ProximityCaptor:
		Types: Building
	Armor:
		Type: Concrete
	Guardable:
		Range: 3c0
	FrozenUnderFog:
	Tooltip:
		GenericName: Structure
	Demolishable:
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
		Type: Footprint
	ThrowsShrapnel@Base:
		Weapons: SmallDebris, SmallDebris2, SmallDebris3
		Pieces: 5, 8
		Range: 2c512, 5c0
	HitShape:
		UseTargetableCellsOffsets: true
	MapEditorData:
		Categories: Building
	CommandBarBlacklist:
	WithDeathAnimation:
        DeathSequence: dead
    RevealOnDeath:
    GrantConditionOnDamageState@Damage01:
        Condition: heavy.damage
        ValidDamageStates: Heavy
    GrantConditionOnDamageState@Damage02:
        Condition: Critical.damage
        ValidDamageStates: Critical
    LeavesTrails@01:
        Image: damage_smoke.min
        TrailWhileStationary: true
        Sequences: smoke_damage01, smoke_damage02, smoke_damage03, smoke_damage04
        Palette: flameeffect60
        Type: CenterPosition
        MovingInterval: 5
        Offsets: -320,-225,200
        RequiresCondition: heavy.damage || Critical.damage
	RenderSprites:
		Scale: 0.845

^Building:
	Inherits: ^BasicBuilding
	Huntable:
	OwnerLostAction:
		Action: Kill
	UpdatesPlayerStatistics:
	GivesBuildableArea:
		AreaTypes: building, fake
	RepairableBuilding:
		RepairStep: 50
		PlayerExperience: 15
		RepairingNotification: Repairing
		RepairCondition: RepairBuilding
	EngineerRepairable:
	AcceptsDeliveredCash:
	WithMakeAnimation:
		Condition: build-incomplete
	SpawnActorsOnSell@Redalliance:
		ActorTypes: t1_comrade, t1_comrade
		Factions: redalliance
	SpawnActorsOnSell@Baneslayer:
		ActorTypes: soldierop, soldierop
		Factions: baneslayer
	SpawnActorsOnSell@conclave:
		ActorTypes: gardian, gardian
		Factions: conclave
	SpawnActorsOnSell@federation:
		ActorTypes: t1_guardmen, t1_guardmen, t1_guardmen
		Factions: federation
	CaptureManager:
		BeingCapturedCondition: being-captured
	Capturable:
		Types: building
	CapturableProgressBar:
	CapturableProgressBlink:
	MustBeDestroyed:
		RequiredForShortGame: true
	Demolishable:
		Condition: being-demolished
	Sellable:
		RefundPercent: 50
		RequiresCondition: !build-incomplete && !being-captured && !being-demolished
		SellSounds: cashturn.aud
	WithBuildingRepairDecoration:
		Image: allyrepair
		Sequence: repair
		ReferencePoint: Center
		Palette: player
		IsPlayerPalette: True
        
^BuildingPlugable:
	AlwaysVisible:
	Interactable:
	Building:
	KillsSelf:
		RemoveInstead: true
	SequencePlaceBuildingPreview:
		Sequence: idle
		SequencePalette: placebuilding
		Palette: placefootprint
	RequiresBuildableArea:
		AreaTypes: building
	RenderSprites:

^TechBuilding:
	Inherits: ^BasicBuilding
	Huntable:
	Health:
		HP: 400
	Selectable:
		Priority: 0
	Tooltip:
		Name: Civilian Building
		GenericVisibility: None
	FrozenUnderFog:
	HitShape:
	
^Spell:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^BuilableSpriteActor
	Inherits@shape: ^1x1Shape
	Interactable:
	Building:
		Dimensions: 1,1
		Footprint: x
		BuildSounds:
		Adjacent: 18
		TerrainTypes: Clear,Road,Rough,Rock,Water
	-GivesExperience:
	RenderSprites:
	Guardable:
	FrozenUnderFog:
	Health:
		HP: 100
	RenderSprites:
		Scale: 1.0

^Wall:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^BuilableSpriteActor
	Inherits@shape: ^1x1Shape
	Interactable:
	ActorPreviewPlaceBuildingPreview:
		OverridePalette: placebuilding
	OwnerLostAction:
		Action: ChangeOwner
	Building:
		Dimensions: 1,1
		Footprint: x
		TerrainTypes: Clear,Road,Rough
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 7
	SoundOnDamageTransition:
		DamagedSounds:
		DestroyedSounds:
	Crushable:
		Crushes: wall
        CrushSound: wallcrush01.aud
		CrushedByFriendlies: false
	WithDeathAnimation:
		CrushedSequence: die-crushed
        CrushedSequencePalette: flameeffect
	LineBuild:
		Range: 10
		NodeTypes: wall
	LineBuildNode:
		Types: wall
	Targetable:
		TargetTypes: Ground, DetonateAttack, Wall, NoAutoTarget
	-GivesExperience:
	RenderSprites:
	WithWallSpriteBody:
	Sellable:
		SellSounds: cashturn.aud
	Guardable:
	FrozenUnderFog:
	BlocksProjectiles:
	Health:
		HP: 10000
	MapEditorData:
		Categories: Wall

^terrain_mat:
	AlwaysVisible:
	Interactable:
	Building:
		TerrainTypes: Clear
		BuildSounds:
		AllowInvalidPlacement: true
	FootprintPlaceBuildingPreview:
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 8
	Tooltip:
		Name: Concrete
		GenericName: Structure
	RenderSprites:
	KillsSelf:
		RemoveInstead: true
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Description: Provides a strong foundation that prevents\ndamage from the terrain.

^Defence:
	Inherits@01: ^Building
	Inherits@02: ^DisablePowerDown
	Inherits@Range: ^Defense.Range.Base
	Inherits@DetectCloaked: ^Defence.DetectCloaked
	RenderRangeCircle:
	-GivesBuildableArea:
	RenderRangeCircle:
	RenderDetectionCircle:
	ThrowsShrapnel:
		Weapons: SmallDebris, SmallDebris2, SmallDebris3
		Pieces: 2, 2
		Range: 2c0, 4c0
	Targetable:
		TargetTypes: Ground, Building, C4, Defense
	MapEditorData:
		Categories: Defense
	RevealOnFire:
	MustBeDestroyed:
		RequiredForShortGame: false
	-CommandBarBlacklist:
	RenderSprites:
		Scale: 1.0

^Gate:
	Inherits: ^Building
	Huntable:
	Valued:
		Cost: 250
	Health:
		HP: 35000
	Armor:
		Type: Heavy
	LineBuildNode:
		Types: wall, gate
	-GivesBuildableArea:
	-MustBeDestroyed:
	-WithMakeAnimation:
	-WithSpriteBody:
	WithGateSpriteBody:
		OpenSequence: open
	Tooltip:
	Buildable:
		Description: Automated barrier that opens for allied units.
	HitShape:
		Type: Rectangle
			LocalYaw: -128
			TopLeft: -512, -512
			BottomRight: 512, 512
			VerticalTopOffset: 768
	MapEditorData:
		Categories: Wall
	Gate:
		PauseOnCondition: empdisable
		OpeningSound:
		ClosingSound:
		BlocksProjectilesHeight: 768
	RenderSprites:
		Scale: 0.935
	Sellable:
		RequiresCondition: !being-demolished
		
^Gate_A:
	Inherits: ^Gate
	Inherits@shape: ^3x1Shape
	Health:
	Building:
		Dimensions: 3,1
		Footprint: xxx
	WithGateSpriteBody:
		WallConnections: -1,0, 3,0
	LineBuildNode:
		Types: wall
		Connections: -1,0, 1,0
		
^Gate_B:
	Inherits: ^Gate
	Inherits@shape: ^1x3Shape
	Health:
	Building:
		Dimensions: 1,3
		Footprint: x x x
	WithGateSpriteBody:
		WallConnections: 0,-1, 0,3
	LineBuildNode:
		Types: wall
		Connections: 0,-1, 0,1

# ////////////////////////////////////////////////////////////////////////////////////////////////////
# ////////////////////////////////////////// Aircraft Rules //////////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^Aircraft:
	Inherits@1: ^ExistsInWorld
	Inherits@4: ^BuilableSpriteActor
	Inherits@4: ^ConditionGeneralAircraftBase
	Inherits@Revision: ^Globalrevision
	Huntable:
	DrawLineToTarget:
	UpdatesPlayerStatistics:
    RevealOnDeath:
	AppearsOnRadar:
		UseLocation: true
	Targetable@GROUND:
		TargetTypes: Ground, Repair, Vehicle
		RequiresCondition: !airborne
	Targetable@AIRBORNE:
		TargetTypes: Air
		RequiresCondition: airborne
	OwnerLostAction:
		Action: Kill
	Selectable:
	Armor:
		Type: LightVehicle
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
		MinimumScanTimeInterval: 10
		MaximumScanTimeInterval: 10
	WithTextControlGroupDecoration:
	SelectionDecorations:
	Aircraft:
		AirborneCondition: airborne
		IdealSeparation: 853
        LandAltitude: 0c200
	HiddenUnderFog:
	Voiced:
		VoiceSet: GenericVoice
	HiddenUnderFog:
		Type: GroundPosition
	AttackMove:
	ActorLostNotification:
	BodyOrientation:
		QuantizedFacings: 0
		CameraPitch: 90
	Guard:
	Guardable:
	MustBeDestroyed:
	RenderVoxels:
		Scale: 0.75
		WAngle: 50
	WithVoxelBody:
	RevealOnFire:
	HitShape:

^Helicopter:
	Inherits: ^Aircraft
	Tooltip:
		GenericName: Helicopter
	Aircraft:
		CanHover: True
		CruisingCondition: cruising
		WaitDistanceFromResupplyBase: 4c0
		TakeOffOnResupply: true
		VTOL: true
		LandableTerrainTypes: Clear, Rough, Road, Diast, Beach
		Crushes: crate, mine, infantry
		InitialFacing: 224
		CanSlide: True
	RenderSprites:
		Scale: 0.8
	Hovers@CRUISING:
		RequiresCondition: cruising
	BodyOrientation:
		UseClassicFacingFudge: True

^Aircraftshape:
	Inherits@1: ^ExistsInWorld
	Inherits@4: ^BuilableSpriteActor
	Inherits@4: ^ConditionGeneralAircraftBase
	Inherits@Range: ^Aircraft.Range.Base
	Huntable:
	DrawLineToTarget:
	UpdatesPlayerStatistics:
	AppearsOnRadar:
		UseLocation: true
	Targetable@GROUND:
		TargetTypes: Ground, Repair, Vehicle
		RequiresCondition: !airborne
	Targetable@AIRBORNE:
		TargetTypes: Air
		RequiresCondition: airborne
	Armor:
		Type: LightVehicle
	Selectable:
	WithTextControlGroupDecoration:
	SelectionDecorations:
	OwnerLostAction:
		Action: Kill
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
		MinimumScanTimeInterval: 10
		MaximumScanTimeInterval: 10
	Aircraft:
		AirborneCondition: airborne
		IdealSeparation: 853
        CruiseAltitude: 2c740
        LandAltitude: 0c200
	Voiced:
		VoiceSet: GenericVoice
	HiddenUnderFog:
		Type: GroundPosition
	AttackMove:
	ActorLostNotification:
	BodyOrientation:
		QuantizedFacings: 0
		CameraPitch: 90
	WithFacingSpriteBody:
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
	Guard:
	Guardable:
	MustBeDestroyed:
	RenderSprites:
	RevealOnFire:
	HitShape:

^Helicoptershape:
	Inherits@1: ^Aircraftshape
	Aircraft:
		CanHover: True
		CruisingCondition: cruising
		WaitDistanceFromResupplyBase: 4c0
		TakeOffOnResupply: true
		VTOL: true
		LandableTerrainTypes: Clear, Rough, Road, Ore, Beach, Gems
		Crushes: crate, mine, infantry
		InitialFacing: 224
        LandAltitude: 0c200
		CanSlide: True
	Targetable@AIRBORNE:
		TargetTypes: Air
	Hovers@CRUISING:
		RequiresCondition: cruising

^AircraftHuskShape:
	RenderSprites:
	BodyOrientation:
		QuantizedFacings: 0
		CameraPitch: 90
	Aircraft:
		CanHover: True
		VTOL: true
		CanSlide: True
	Health:
		HP: 28000
	Armor:
		Type: Heavy
	HiddenUnderFog:
		Type: GroundPosition
	ScriptTriggers:
	Interactable:
	Tooltip:
		GenericName: Destroyed Aircraft
	FallsToEarth:
		Explosion: uniteanimexplode
	HitShape:
	WithFacingSpriteBody:
    AmbientSound:
        SoundFiles: aircraftdie01.aud, aircraftdie02.aud
    SmokeTrailWhenDamaged:
        Sprite: explosion
        Interval: 8
        Sequence: trail_smoke02
        Palette: flameeffect60
        MinDamage: Undamaged
	MapEditorData:
		Categories: Husk
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
		
^PlaneHusk:
	RenderSprites:
	BodyOrientation:
		QuantizedFacings: 0
		CameraPitch: 90
	Aircraft:
	Health:
		HP: 28000
	Armor:
		Type: Heavy
	HiddenUnderFog:
		Type: GroundPosition
	ScriptTriggers:
	Interactable:
	Tooltip:
		GenericName: Destroyed Aircraft
	FallsToEarth:
		Moves: True
		Velocity: 86
		Explosion: uniteanimexplode
		MaximumSpinSpeed: 0
	HitShape:
    AmbientSound:
        SoundFiles: aircraftdie01.aud, aircraftdie02.aud
    SmokeTrailWhenDamaged:
        Sprite: explosion
        Interval: 8
        Sequence: trail_smoke02
        Palette: flameeffect60
        MinDamage: Undamaged
	WithFacingSpriteBody:
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
	MapEditorData:
		Categories: Husk
		
#////////// Gibs & Debris Rules //////////

# ////////////////////////////////////////////////////////////////////////////////////////////////////
# ////////////////////////////////////////// Trees & Rock Rules //////////////////////////////////////
# ////////////////////////////////////////////////////////////////////////////////////////////////////

^Abilitie:
	UpdatesPlayerStatistics:
	ScriptTriggers:

^Tree:
	Inherits@1: ^SpriteActor
	Interactable:
	Tooltip:
		Name: Tree
		ShowOwnerRow: false
	MapEditorData:
		Categories: Tree
	RadarColorFromTerrain:
		Terrain: Tree
	RenderSprites:
		Palette: isotem
	WithSpriteBody:
	Building:
		Footprint: x
		Dimensions: 1,1
	AppearsOnRadar:
	Health:
		HP: 500
	Armor:
		Type: LightVehicle
	Targetable:
		TargetTypes: Tree
	HiddenUnderShroud:
	ScriptTriggers:
	RenderSprites:
	HitShape:

^Rock:
	Inherits@1: ^SpriteActor
	Tooltip:
		Name: Rock
		ShowOwnerRow: false
	Interactable:
	MapEditorData:
		Categories: Rock
	WithSpriteBody:
	Building:
		Footprint: x
		Dimensions: 1,1
	AppearsOnRadar:
	Health:
		HP: 500
	Armor:
		Type: LightVehicle
	Targetable:
		TargetTypes: Rock
	HiddenUnderShroud:
	ScriptTriggers:
	RenderSprites:
		Scale: 0.8
		Palette: isotem
	HitShape:
	
^BasicHusk:
	Inherits@1: ^SpriteActor
	Interactable:
	Health:
		HP: 2800
	Armor:
		Type: LightVehicle
	HiddenUnderFog:
		Type: CenterPosition
	ScriptTriggers:
	WithFacingSpriteBody:
	WithIdleOverlay:
		Offset: 0, 0, 30
		Sequence: heat_flame
		Palette: flameeffect
	HitShape:
	MapEditorData:
		Categories: Husk
	
^Husk:
	Inherits: ^BasicHusk
	Husk:
		AllowedTerrain: Clear, Rough, Road, Ore, Gems, Beach
	Burns:
		Damage: 100
	RenderSprites:
		Palette: disabled
	Targetable:
		TargetTypes: Ground, Husk, NoAutoTarget
		RequiresForceFire: true
	Explodes:
		Weapon: tank.explode
		EmptyWeapon: tank.explode
	ThrowsShrapnel:
		Weapons: SmallDebris, SmallDebris2, SmallDebris3
		Pieces: 3, 5
		Range: 1c512, 3c0
	Chronoshiftable:
	Tooltip:
		GenericName: Destroyed Vehicle
	BodyOrientation:
		UseClassicFacingFudge: True
	
^Mine:
	Inherits: ^SpriteActor
	WithSpriteBody:
	HiddenUnderFog:
	Interactable:
	Mine:
		CrushClasses: mine
		DetonateClasses: mine
		AvoidFriendly: false
		BlockFriendly: false
	Health:
		HP: 100
		NotifyAppliedDamage: false
	Armor:
		Type: Light
	Cloak:
		CloakSound:
		UncloakSound:
		Palette:
		CloakTypes: Mine
		InitialDelay: 0
	Tooltip:
		Name: Mine
	Targetable:
		TargetTypes: Ground
	Immobile:
		OccupiesSpace: true
	HitShape:
	
^Blank:
	Inherits@Research: ^ResearchActor
	AlwaysVisible:
	Buildable:
		BuildPaletteOrder: 0
		Prerequisites:
		Description: .
		BuildDurationModifier: 60
	Valued:
		Cost: 0
	Tooltip:
		Name: .
	RenderSprites:
		Image: blankicon
	KillsSelf:
		RemoveInstead: true

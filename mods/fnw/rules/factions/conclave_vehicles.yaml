tcmcv:
	Inherits: ^VoxelVehicleHeavyWalker
	Buildable:
		Queue: Vehicle.conclave
		Prerequisites: Ion Trap X3
		BuildPaletteOrder: 80
		BuildDurationModifier: 25
		Description: Mobile construction vehicle
		IconPalette: Conclave.Icon
	Valued:
		Cost: 2500
	Tooltip:
		Name: Wayfarer(MCV)
	Selectable:
		Priority: 4
	Health:
		HP: 5000
	Armor:
		Type: ArmorTank
	MustBeDestroyed:
		RequiredForShortGame: true
	Transforms:
		Facing: 96
		IntoActor: tccacnst
		Offset: -1,-1
		TransformSounds: makebuild.wav
		NoTransformNotification: CannotDeploy
	ProvidesPrerequisite@MCV.ExistStanceVisibility:
		Prerequisite: MCVMobile.Visibility
	SelectionDecorations:
		VisualBounds: 42,42
	BaseBuilding:
	-AutoTarget:
	RenderVoxels:
		Scale: 1.12
	SelfHealing:
		Step: 5
		Ticks: 3
		HealIfBelow: 50

prospecteur:
	Inherits: ^ShapeHoverMedium
	Inherits@harvester: ^Harvester.rules
	Buildable:
		Queue: Vehicle.conclave
		BuildPaletteOrder: 10
		Prerequisites: GateWarp.conclave
		InitialActivity: FindResources
		Description: Hover Diastim harvester
		IconPalette: Conclave.Icon
	Tooltip:
		Name: Prospector(Harvester)
		GenericName: Harvester
	Selectable:
		Priority: 7
		DecorationBounds: 42,42
	WithHarvestOverlay:
	Health:
		HP: 4000
	-AutoTarget:
	RenderSprites:
		Scale: 1.0
	WithDockingAnimation:

t2_rodeur:
	Inherits: ^ShapeWalkerMedium
	Inherits@Target: ^AutoTargetGroundAssaultMove
	Inherits@DetectCloaked: ^Vehicles.DetectCloaked
	Inherits@RevealCells: ^7cells.Range.base
	Tooltip:
		Name: Prowler
	Buildable:
		Queue: Vehicle.conclave
		BuildPaletteOrder: 40
		Prerequisites: tcholotech.rodeur
		BuildDurationModifier: 20
		Description: Lightly armored “main battle tank” equipped with a twin fast-firing laser cannon\n> Strong vs Vehicles\n> Weak vs Infantry, Aircraft
		IconPalette: Conclave.Icon
	Health:
		HP: 3500
	Mobile:
		Speed: 105
	Valued:
		Cost: 980
	Armament@gun:
		Weapon: Rodeur.Dual.LightLaser
		MuzzleSequence: muzzle
		LocalOffset: 450,260,650
		RequiresCondition: !upgrade.Base.Rodeur.Conclave
	Armament@gun2:
		Weapon: Rodeur.Dual.LightLaser
		MuzzleSequence: muzzle
		LocalOffset: 450,-260,650
		RequiresCondition: !upgrade.Base.Rodeur.Conclave
	Armament@gunAlpha:
		Weapon: Rodeur.Dual.LightLaser.Alpha
		MuzzleSequence: muzzle
		LocalOffset: 450,260,650
		RequiresCondition: upgrade.Alpha.Rodeur.Conclave
	Armament@gunAlpha2:
		Weapon: Rodeur.Dual.LightLaser.Alpha
		MuzzleSequence: muzzle
		LocalOffset: 450,-260,650
		RequiresCondition: upgrade.Alpha.Rodeur.Conclave
	Armament@gunOmega:
		Weapon: Rodeur.Dual.LightLaser.Omega
		MuzzleSequence: muzzle
		LocalOffset: 450,260,650
		RequiresCondition: upgrade.Omega.Rodeur.Conclave
	Armament@gunOmega2:
		Weapon: Rodeur.Dual.LightLaser.Omega
		MuzzleSequence: muzzle
		LocalOffset: 450,-260,650
		RequiresCondition: upgrade.Omega.Rodeur.Conclave
	DamageMultiplier@Omega:
		Modifier: 90
		RequiresCondition: upgrade.Omega.Rodeur.Conclave
	WithMuzzleOverlay:
	RenderSprites:
		Scale: 0.80
	WithSpriteTurret:
	AttackTurreted:
		RequiresCondition: !empdisable
	Turreted:
		TurnSpeed: 25
		RealignDelay: 20
		Offset: -30,0,0
	GrantConditionOnPrerequisite@Base:
		Prerequisites: research.Base.Rodeur.Conclave
		Condition: upgrade.Base.Rodeur.Conclave
	GrantConditionOnPrerequisite@Alpha:
		Prerequisites: research.Alpha.Rodeur.Conclave
		Condition: upgrade.Alpha.Rodeur.Conclave
	GrantConditionOnPrerequisite@Omega:
		Prerequisites: research.Omega.Rodeur.Conclave
		Condition: upgrade.Omega.Rodeur.Conclave

t3_surveyor:
	Inherits: ^ShapeWalkerMedium
	Inherits@Target: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 2200
	Tooltip:
		Name: Surveyor
	Buildable:
		Queue: Vehicle.conclave
		BuildPaletteOrder: 110
		Prerequisites: tcholotech.arpenteur
		BuildDurationModifier: 30
		Description: Three legged heavy walker\nDeals damage based on HP percentages\n> Strong vs Vehicles, Structures\n> Weak vs Infantry, Aircraft
		IconPalette: Conclave.Icon
	Mobile:
		PauseOnCondition: !(!empdisable || upgrade.Omega.Arpenteur.Conclave)
	Health:
		HP: 4000
	Armament@left:
		Weapon: ExconvectorGun.lateral
		Recoil: 150
		RecoilRecovery: 15
		LocalOffset: 400,320,50
	Armament@right:
		Weapon: ExconvectorGun.lateral
		Recoil: 150
		RecoilRecovery: 15
		LocalOffset: 400,-320,50
	Armament@Primaris:
		Weapon: ExconvectorGun.primaris
		Recoil: 150
		FireDelay: 6
		RecoilRecovery: 15
		LocalOffset: 800,0,50
	SelfHealing@Base:
		Step: 25
		Delay: 8
		HealIfBelow: 50
		DamageCooldown: 150
	RenderSprites:
		Scale: 0.78
	WithSpriteTurret:
	AttackTurreted:
		RequiresCondition: !empdisable || upgrade.Omega.Arpenteur.Conclave
	GrantConditionOnPrerequisite@Alpha:
		Prerequisites: research.Alpha.Arpenteur.Conclave
		Condition: upgrade.Omega.Arpenteur.Conclave
	GrantConditionOnPrerequisite@Omega:
		Prerequisites: research.Omega.Arpenteur.Conclave
		Condition: upgrade.Alpha.Arpenteur.Conclave
	ExternalCondition@Speed.Zenith:
		Condition: Speed.Zenith
	SpeedMultiplier@Speed.Arpenteur.Conclave:
		Modifier: 120
		RequiresCondition: upgrade.Omega.Arpenteur.Conclave
	DamageMultiplier@Armor.Arpenteur.Conclave:
		Modifier: 85
		RequiresCondition: upgrade.Alpha.Arpenteur.Conclave
	ReloadDelayMultiplier@Reload.Arpenteur.Conclave:
		Modifier: 85
		RequiresCondition: upgrade.Alpha.Arpenteur.Conclave
	WithColoredOverlay@EMPDISABLE:
		RequiresCondition: empdisable && !upgrade.Omega.Arpenteur.Conclave
	WithIdleOverlay@EMPDISABLE:
		RequiresCondition: empdisable && !upgrade.Omega.Arpenteur.Conclave
	WithIdleOverlay@HammerEradicatorStunVehicle:
		RequiresCondition: HammerEradicatorStun && upgrade.Omega.Arpenteur.Conclave
	SpeedMultiplier@HammerEradicatorStunVehicle:
		RequiresCondition: HammerEradicatorStun && upgrade.Omega.Arpenteur.Conclave
	WithIdleOverlay@PhieAura:
		Offset: 0,0,10
		Sequence: aura_omega
		Palette: powereffect60
		RequiresCondition: upgrade.Alpha.Arpenteur.Conclave
	WithIdleOverlay@OmegaAura:
		Offset: 0,0,10
		Sequence: aura_phie
		Palette: powereffect60
		RequiresCondition: upgrade.Omega.Arpenteur.Conclave
	Turreted:
		TurnSpeed: 4
		RealignDelay: 20
		Offset: 0,0,2050
	Minelayer:
		Mine: activate.Shield
		AmmoPoolName: shield
	AmmoPool@initial:
		Name: shield
		Armaments: shield
		Ammo: 1
		ReloadCount: 1
		ReloadDelay: 20
	ReloadAmmoPool@initial:
		AmmoPool: shield
		Delay: 700
		ResetOnFire: true
	ExternalCondition@Shield:
		Condition: ShieldActivate
	DamageMultiplier@Shield:
		Modifier: 0
		RequiresCondition: ShieldActivate
	Targetable:
		TargetTypes: Ground, Vehicle, Repair, C4
	WithColoredOverlay@Shield:
		RequiresCondition: ShieldActivate
	TimedConditionBar@shield:
		Condition: ShieldActivate
	HitShape:
	Rearmable:
		RearmActors: fix
		AmmoPools: primary, shield
	Rearmable:
		RearmActors: fix
		AmmoPools: primary, shield
	Rearmable:
		RearmActors: fix
		AmmoPools: primary, shield

activate.Shield:
	Inherits: ^Capacity.system.active
	Interactable:
	Explodes:
		Weapon: ShieldWarhead.Active

t2_pilgrim:
	Inherits: ^ShapeHoverMedium
	Inherits@Target: ^AutoTargetAllAssaultMove
	Valued:
		Cost: 1200
	Tooltip:
		Name: Pilgrim
	Buildable:
		Queue: Vehicle.conclave
		BuildPaletteOrder: 60
		Prerequisites: tcholotech.pelerin
		BuildDurationModifier: 25
		Description: Hover anti-aircraft missile launcher\nCan be deployed into an artillery\n> Strong vs Vehicles, Aircraft\n> Weak vs Infantry
		IconPalette: Conclave.Icon
	Transforms:
		IntoActor: t2_pilgrimdeployed
		TransformSounds: deploy_vehicle_mode.aud
		Offset: 0,0
		Facing: 96
	WithMuzzleOverlay:
	GrantConditionOnPrerequisite@Alpha:
		Prerequisites: research.Alpha.Pelerin.Conclave
		Condition: upgrade.Alpha.Pelerin.Conclave
	Health:
		HP: 1200
	Armament@gun:
		Weapon: Photo_MissileAA
		Recoil: 150
		RecoilRecovery: 15
		LocalYaw: 100, -100
		LocalOffset: 250,100,200, 250,-100,200
	Armament@gunAA:
		Weapon: Photo_Missile
		Recoil: 150
		RecoilRecovery: 15
		LocalYaw: 100, -100
		LocalOffset: 250,100,200, 250,-100,200
		RequiresCondition: upgrade.Alpha.Pelerin.Conclave
	AutoTarget:
	RenderSprites:
        Scale: 0.95
	Hovers:
	WithSpriteTurret:
	AttackTurreted:
		RequiresCondition: !empdisable
	Turreted:
		TurnSpeed: 10
		RealignDelay: 10
		Offset: -150,0,220
	SpawnActorOnDeath:
		Actor: t2_pilgrim.Husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
